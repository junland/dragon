--- btrfs-progs-v5.13.1/common/utils.c.orig	2021-07-30 11:14:58.000000000 -0300
+++ btrfs-progs-v5.13.1/common/utils.c	2021-08-03 22:21:04.639082657 -0300
@@ -24,7 +24,21 @@
 #include <sys/mount.h>
 #include <sys/types.h>
 #include <sys/stat.h>
+
+#ifndef __GLIBC__
+/*
+ * linux/sysinfo.h (which gets indirectly included by other kernel headers)
+ * conflicts with sys/sysinfo.h on musl, so make sure it doesn't get expanded.
+ * We cannot do this unconditionally as E.G. glibc/uClibc rely on the
+ * linux/sysinfo.h definition.
+ * Musl provides no detection define, so instead detect that we are
+ * NOT on glibc/uClibc.
+ */
+#define _LINUX_SYSINFO_H
+#endif
+
 #include <sys/sysinfo.h>
+
 #include <uuid/uuid.h>
 #include <fcntl.h>
 #include <unistd.h>
